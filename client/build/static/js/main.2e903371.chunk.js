(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(10),c=a.n(o),r=a(78),s=a(18),l=a(52),d=a(38),j=a.n(d),h=a(23),u=a.n(h),b=a(162),m=a(167),g=a(168),f=a(169),O=a(155),x=a(11),p=a(170),v=a(177),y=a(159),w=a(160),C=a(161),T=a(53),N=a(163),S=a(164),k=a(174),B=a(165),E=a(166),F=a(178),R=a(171),G=a(179),L=a(172),P=a(173),I=a(176),K=a(4),J=Object(O.a)((function(t){return{root:{flexGrow:1},loader:{width:"100%","& > * + *":{marginTop:t.spacing(6.7)}},menuButton:{marginRight:t.spacing(2)},title:Object(l.a)({flexGrow:1,display:"none"},t.breakpoints.up("sm"),{display:"block"}),search:Object(l.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(x.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(x.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var q=function(){var t=i.a.useState(""),e=Object(s.a)(t,2),a=e[0],o=e[1],c=i.a.useState(""),l=Object(s.a)(c,2),d=l[0],h=l[1],O=i.a.useState([]),x=Object(s.a)(O,2),q=x[0],z=x[1],W=i.a.useState(""),D=Object(s.a)(W,2),H=D[0],U=D[1],X=i.a.useState(""),A=Object(s.a)(X,2),M=A[0],V=A[1],Q=i.a.useState(""),Y=Object(s.a)(Q,2),Z=Y[0],$=Y[1],_=i.a.useState(!1),tt=Object(s.a)(_,2),et=tt[0],at=tt[1],nt=i.a.useState([]),it=Object(s.a)(nt,2),ot=it[0],ct=it[1],rt=i.a.useState(!1),st=Object(s.a)(rt,2),lt=st[0],dt=st[1],jt=i.a.useState({}),ht=Object(s.a)(jt,2),ut=ht[0],bt=ht[1],mt=i.a.useState(!1),gt=Object(s.a)(mt,2),ft=gt[0],Ot=gt[1],xt=J(),pt=function(){var t=window,e=document,a=e.documentElement,n=e.getElementsByTagName("body")[0],i=t.innerWidth||a.clientWidth||n.clientWidth,o=t.innerHeight||a.clientHeight||n.clientHeight;bt({width:i,height:o,offsetX:i/12})},vt=function(){j.a.get("http://localhost:3001/query/"+H).then((function(t){z(t.data)}))};return Object(n.useEffect)((function(){vt()}),[H]),Object(n.useEffect)((function(){return window.addEventListener("resize",pt),pt(),function(){window.removeEventListener("resize",pt)}}),[]),Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsxs)(v.a,{open:ft,children:[Object(K.jsx)(y.a,{className:xt.appBar,children:Object(K.jsxs)(w.a,{children:[Object(K.jsx)(C.a,{edge:"start",color:"inherit",onClick:function(){Ot(!1)},"aria-label":"close",children:Object(K.jsx)(b.a,{})}),Object(K.jsx)(T.a,{variant:"h6",className:xt.title,children:"Editar registro"})]})}),Object(K.jsxs)("div",{style:{margin:"auto"},children:[Object(K.jsxs)(N.a,{children:[Object(K.jsxs)(S.a,{style:{justifyContent:"center"},button:!0,children:[Object(K.jsx)(k.a,{value:a,id:"standard-basic",label:"Primeiro nome",onChange:function(t){o(t.target.value)}}),Object(K.jsx)(k.a,{id:"standard-basic",value:d,label:"\xdaltimo nome",style:{marginLeft:"2%"},onChange:function(t){h(t.target.value)}})]}),Object(K.jsx)(B.a,{}),Object(K.jsx)(S.a,{style:{justifyContent:"center",marginTop:"2%"},children:Object(K.jsx)("input",{id:"photo",type:"file",style:{marginTop:"1%"},onChange:function(t){var e=new FileReader;e.onload=function(t){V(t.target.result)},e.readAsDataURL(t.target.files[0])}})}),Object(K.jsx)(B.a,{style:{marginTop:"2%"}}),Object(K.jsx)(S.a,{style:{marginTop:"2%"},children:void 0!==M&&M.length>0&&Object(K.jsx)("img",{style:{objectFit:"cover",width:"20%",margin:"auto",marginTop:"3%"},src:M})})]}),Object(K.jsx)(E.a,{style:{backgroundColor:"#3f51b5",color:"#fff",transform:"translateX(50%)",width:"50%",marginTop:"5%",marginBottom:"5%"},autoFocus:!0,color:"inherit",onClick:function(){console.log(M),a.length>0&&d.length>0&&M.length>0&&-1!=M.indexOf("image")?(j.a.post("http://localhost:3001/update",{id:Z,firstName:a,lastName:d,img:M}).then((function(t){t.data[0].affectedRows>0?u.a.fire({title:"Sucesso!",text:"Registro alterado com sucesso!",icon:"success",confirmButtonText:"OK!"}).then((function(){vt()})):u.a.fire({title:"Erro!",text:"Falha ao tentar atualizar registro.",icon:"error",confirmButtonText:"OK!"})})).catch((function(t){console.log(t)})),V(""),h(""),o(""),Ot(!1)):(dt(!1),u.a.fire({title:"Erro!",text:"Falha ao tentar atualizar registro, verifique os campos e tente novamente. Formatos de imagem aceitos: (GIF, PNG, JPEG, JPG)",icon:"error",confirmButtonText:"OK!"}))},children:"Salvar"})]})]})}),Object(K.jsxs)(v.a,{open:lt,children:[Object(K.jsx)(y.a,{className:xt.appBar,children:Object(K.jsxs)(w.a,{children:[Object(K.jsx)(C.a,{edge:"start",color:"inherit",onClick:function(){dt(!1)},"aria-label":"close",children:Object(K.jsx)(b.a,{})}),Object(K.jsx)(T.a,{variant:"h6",className:xt.title,children:"Criar novo registro"})]})}),Object(K.jsxs)("div",{style:{margin:"auto"},children:[Object(K.jsxs)(N.a,{children:[Object(K.jsxs)(S.a,{style:{justifyContent:"center"},button:!0,children:[Object(K.jsx)(k.a,{id:"standard-basic",label:"Primeiro nome",onChange:function(t){o(t.target.value)}}),Object(K.jsx)(k.a,{id:"standard-basic",label:"\xdaltimo nome",style:{marginLeft:"2%"},onChange:function(t){h(t.target.value)}})]}),Object(K.jsx)(B.a,{}),Object(K.jsx)(S.a,{style:{justifyContent:"center",marginTop:"2%"},children:Object(K.jsx)("input",{id:"photo",type:"file",style:{marginTop:"1%"},onChange:function(t){var e=new FileReader;e.onload=function(t){V(t.target.result)},e.readAsDataURL(t.target.files[0])}})}),Object(K.jsx)(B.a,{style:{marginTop:"2%"}}),Object(K.jsx)(S.a,{style:{marginTop:"2%"},children:void 0!==M&&M.length>0&&Object(K.jsx)("img",{style:{objectFit:"cover",width:"20%",margin:"auto",marginTop:"3%"},src:M})})]}),Object(K.jsx)(E.a,{style:{backgroundColor:"#3f51b5",color:"#fff",transform:"translateX(50%)",width:"50%",marginTop:"5%",marginBottom:"5%"},autoFocus:!0,color:"inherit",onClick:function(){console.log(M),a.length>0&&d.length>0&&M.length>0&&-1!=M.indexOf("image")?(j.a.post("http://localhost:3001/insert",{firstName:a,lastName:d,img:M}).then((function(t){t.data[0].affectedRows>0?u.a.fire({title:"Sucesso!",text:"Voc\xea se cadastrou com sucesso.",icon:"success",confirmButtonText:"OK!"}).then((function(){vt()})):u.a.fire({title:"Erro!",text:"Falha ao se registrar.",icon:"error",confirmButtonText:"OK!"})})).catch((function(t){console.log(t)})),V(""),h(""),o(""),dt(!1)):(dt(!1),u.a.fire({title:"Erro!",text:"Falha ao se registrar, verifique os campos e tente novamente. Formatos de imagem aceitos: (GIF, PNG, JPEG, JPG)",icon:"error",confirmButtonText:"OK!"}))},children:"Salvar"})]})]})]}),Object(K.jsx)("div",{className:xt.root,children:Object(K.jsx)(y.a,{position:"fixed",children:Object(K.jsxs)(w.a,{children:[Object(K.jsx)(C.a,{onClick:function(){dt(!0)},edge:"start",className:xt.menuButton,color:"inherit","aria-label":"open drawer",children:Object(K.jsx)(m.a,{})}),Object(K.jsx)(T.a,{className:xt.title,variant:"h6",noWrap:!0,children:"CRUD"}),ot.length>0&&Object(K.jsx)(C.a,{onClick:function(){at(!0),ot.map((function(t){j.a.post("http://localhost:3001/delete",{id:t}).then((function(t){t.data[0].affectedRows>0?(at(!1),vt()):u.a.fire({title:"Erro!",text:"Falha ao deletar.",icon:"error",confirmButtonText:"OK!"})})).catch((function(t){u.a.fire({title:"Erro!",text:"Falha ao deletar.",icon:"error",confirmButtonText:"OK!"})}))})),ct([])},edge:"end",className:xt.menuButton,color:"inherit","aria-label":"open drawer",children:Object(K.jsx)(g.a,{})}),Object(K.jsxs)("div",{className:xt.search,children:[Object(K.jsx)("div",{className:xt.searchIcon,children:Object(K.jsx)(f.a,{})}),Object(K.jsx)(F.a,{placeholder:"Search\u2026",classes:{root:xt.inputRoot,input:xt.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){U(t.target.value)}})]})]})})}),et&&Object(K.jsxs)("div",{className:xt.loader,children:[Object(K.jsx)(p.a,{}),Object(K.jsx)(p.a,{color:"secondary"})]}),Object(K.jsxs)(N.a,{style:{marginTop:ut.width>768&&!et?"5%":et?"0%":"12%"},children:[q.length>0&&Object(K.jsx)(K.Fragment,{children:q.map((function(t){return Object(K.jsxs)(S.a,{button:!0,onClick:function(e){$(t.id),j.a.get("http://localhost:3001/query/"+t.id).then((function(t){V(t.data[0].img),o(t.data[0].nome.split(" ")[0]),h(t.data[0].nome.split(" ")[1]),Ot(!0)}))},children:[Object(K.jsx)(R.a,{children:Object(K.jsx)(G.a,{alt:t.nome,src:t.img})}),Object(K.jsx)(L.a,{primary:t.nome}),Object(K.jsx)(P.a,{children:Object(K.jsx)(I.a,{id:t.id.toString(),color:"primary",edge:"end",onChange:function(t){ot.includes(t.target.id)?ct(ot.filter((function(e){return e!=t.target.id}))):ct([].concat(Object(r.a)(ot),[t.target.id]))}})})]},t.id)}))}),0==q.length&&Object(K.jsx)(S.a,{button:!0,children:Object(K.jsx)(L.a,{primary:"Nenhum registro foi encontrado )="})},"1")]})]})};c.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(q,{})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.2e903371.chunk.js.map